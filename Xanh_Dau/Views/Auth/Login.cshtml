@{
    ViewData["Title"] = "Login Page";
    Layout = "~/Views/Shared/_LayoutEmpty.cshtml";
}
<link rel="stylesheet" href="~/css/site.css"/>
<link rel="stylesheet" href="~/tailwind/build/tailwind.css">
<link rel="stylesheet" href="~/fonts/boxicons.css"/>
<script src="~/js/site.js"></script>

<div class="bg-gradient-to-r from-green-300 to-blue-300 min-h-screen flex flex-col justify-center items-center px-4">
    <!-- Tiêu đề và lời chào -->
    <section class="text-center mb-8">
        <h1 class="text-4xl font-extrabold text-green-800">Chào mừng trở lại Xanh Đấu!</h1>
        <p class="mt-3 text-lg text-gray-700">Đăng nhập để tiếp tục khám phá và bảo vệ môi trường!</p>
    </section>

    <!-- Form đăng nhập -->
    <section class="w-full max-w-md bg-white p-8 rounded-xl shadow-xl">
        <form method="post" class="space-y-6">
            <!-- Email -->
            <div>
                <label for="email" class="block text-gray-700 font-medium">Địa chỉ Email</label>
                <input type="email" id="email" name="email" placeholder="Nhập email của bạn"
                    class="w-full mt-2 p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500"
                    required />
            </div>

            <!-- Mật khẩu -->
            <div>
                <label for="password" class="block text-gray-700 font-medium">Mật khẩu</label>
                <div class="relative">
                    <input type="password" id="password" name="password" placeholder="Nhập mật khẩu"
                        class="w-full mt-2 p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500"
                        required />
                    <button type="button" class="absolute right-4 top-3 text-gray-500 hover:text-gray-700"
                        onclick="togglePasswordVisibility()">
                        <i id="password-eye" class="bx bx-hide"></i>
                    </button>
                </div>
            </div>

            <!-- Ghi nhớ & Quên mật khẩu -->
            <div class="flex items-center justify-between text-sm">
                <label class="flex items-center space-x-2 text-gray-600">
                    <input type="checkbox" id="remember" name="remember" class="accent-green-500">
                    <span>Nhớ mật khẩu</span>
                </label>
                <a asp-controller="Auth" asp-action="ForgotPassword" class="text-green-600 hover:underline">Quên mật khẩu?</a>
            </div>

            <!-- Nút đăng nhập -->
            <div>
                <button type="submit"
                    class="w-full bg-green-700 text-white py-3 rounded-lg font-semibold shadow-md hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 transition">
                    Đăng nhập
                </button>
            </div>

            <!-- Hiển thị lỗi nếu có -->
            @if (!string.IsNullOrEmpty(ViewBag.Error as string))
            {
                <div class="mt-4 text-red-600 text-sm text-center">
                    <p>@ViewBag.Error</p>
                </div>
            }

            <!-- Chưa có tài khoản? -->
            <div class="text-center">
                <p class="text-gray-600">Chưa có tài khoản? <a asp-controller="Auth" asp-action="Register"
                        class="text-green-600 hover:underline">Đăng ký ngay</a></p>
            </div>

            <!-- Lời khuyên bảo mật -->
            <div class="mt-6 text-sm text-gray-600 text-center">
                <p><strong>Lời khuyên bảo mật:</strong> Sử dụng mật khẩu mạnh và không chia sẻ mật khẩu với ai.</p>
            </div>

            <!-- Chính sách bảo mật -->
            <div class="mt-4 text-sm text-gray-600 text-center">
                <p><a asp-controller="Auth" asp-action="TOS" class="text-green-600 hover:underline">Chính sách bảo mật</a></p>
            </div>
        </form>
    </section>
</div>

<!-- Đoạn mã JavaScript để ẩn/hiện mật khẩu -->
<script>
    function togglePasswordVisibility() {
        const passwordField = document.getElementById('password');
        const passwordEyeIcon = document.getElementById('password-eye');
        if (passwordField.type === 'password') {
            passwordField.type = 'text';
            passwordEyeIcon.classList.remove('bx-show-alt');
            passwordEyeIcon.classList.add('bx-hide');
        } else {
            passwordField.type = 'password';
            passwordEyeIcon.classList.remove('bx-hide');
            passwordEyeIcon.classList.add('bx-show-alt');
        }
    }
</script>

